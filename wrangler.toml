name = "temp-email-system"
main = "src/index.ts"
compatibility_date = "2024-11-01"

[vars]
RETENTION_HOURS = "24"
RATE_LIMIT_PER_MINUTE = "60"
# EMAIL_DOMAIN 通过 GitHub Secrets 注入，无需手动修改
EMAIL_DOMAIN = "example.com"
# 用户认证相关配置
ALLOW_REGISTRATION = "true"
MAX_MAILBOXES_PER_USER = "5"
SESSION_EXPIRY_HOURS = "24"
# 初始管理员账户（通过 GitHub Secrets 注入）
ADMIN_USERNAME = "admin"
ADMIN_PASSWORD = "changeme123"

[[d1_databases]]
binding = "DB"
database_name = "temp-email-db"
# database_id 通过 GitHub Secrets 注入，无需手动修改
database_id = "placeholder"

# Email Worker 配置
# 需要在 Cloudflare Dashboard 中配置 Email Routing
# 将 catch-all 或特定地址路由到此 Worker

# Cron Trigger 配置 - 每小时运行一次清理
[triggers]
crons = ["0 * * * *"]
